# VIO marketolog - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞–º–∏ –≤ Telegram

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL**
   - –¢–∞–±–ª–∏—Ü—ã: users, shops, products, orders, categories, promocodes
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∏ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

2. **Backend API (Python)**
   - `products` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ (CRUD)
   - `telegram-bot` - –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ —Å Telegram –±–æ—Ç–æ–º
   - `upload-image` - –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ S3
   - `admin-settings` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

3. **–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞**
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ (—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ + —Ü–∏—Ñ—Ä–æ–≤—ã–µ)
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞
   - –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–Ω–Ω–µ—Ä–æ–≤ –∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤

4. **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –æ–ø–ª–∞—Ç—ã
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∞–º–∏ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞, —Å–≤—è–∑—å)

5. **–¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã**
   - –û—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∞—Ä–∏—Ñ "–¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã" (1990‚ÇΩ/–º–µ—Å)
   - –¢–∏–ø—ã: –∫–ª—é—á–∏ –∫ –ü–û, –∏–≥—Ä—ã, –∞–∫–∫–∞—É–Ω—Ç—ã, –ø–æ–¥–ø–∏—Å–∫–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ

6. **–¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã**
   - –ü—Ä–æ–±–Ω—ã–π (0‚ÇΩ) - 50 —Ç–æ–≤–∞—Ä–æ–≤, 1 –º–∞–≥–∞–∑–∏–Ω
   - –°—Ç–∞—Ä—Ç (990‚ÇΩ) - 100 —Ç–æ–≤–∞—Ä–æ–≤, 1 –º–∞–≥–∞–∑–∏–Ω
   - –ë–∏–∑–Ω–µ—Å (2990‚ÇΩ) - 1000 —Ç–æ–≤–∞—Ä–æ–≤, 3 –º–∞–≥–∞–∑–∏–Ω–∞
   - –ü—Ä–æ (4990‚ÇΩ) - –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, 10 –º–∞–≥–∞–∑–∏–Ω–æ–≤
   - –¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã (1990‚ÇΩ) - 500 —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/backend/
‚îú‚îÄ‚îÄ products/           # API –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
‚îú‚îÄ‚îÄ telegram-bot/      # –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ —Å –±–æ—Ç–æ–º
‚îú‚îÄ‚îÄ upload-image/      # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îî‚îÄ‚îÄ admin-settings/    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∞

/src/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ Index.tsx      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx  # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ Admin.tsx      # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ Blog.tsx       # –ë–ª–æ–≥
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ AdminPlanEditor.tsx       # –†–µ–¥–∞–∫—Ç–æ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ AdminSettingsEditor.tsx   # –†–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ DigitalProductsManager.tsx # –¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ CreateShopWithBot.tsx     # –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ api.ts         # URL-—ã backend —Ñ—É–Ω–∫—Ü–∏–π

/db_migrations/
‚îî‚îÄ‚îÄ V0001__initial_schema.sql  # –ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î
```

## üîß API Endpoints

### Products API
```bash
GET  /products?shop_id=1  # –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
POST /products            # –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
PUT  /products            # –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
```

### Telegram Bot API
```bash
POST /telegram-bot
{
  "bot_token": "123456:ABC...",
  "shop_name": "–ú–æ–π –º–∞–≥–∞–∑–∏–Ω",
  "user_id": 1
}
```

### Upload Image API
```bash
POST /upload-image
{
  "image": "base64_encoded_image",
  "type": "product|banner|logo",
  "filename": "image.jpg"
}
```

### Admin Settings API
```bash
GET  /admin-settings?type=plans     # –ü–æ–ª—É—á–∏—Ç—å —Ç–∞—Ä–∏—Ñ—ã
GET  /admin-settings?type=settings  # –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PUT  /admin-settings                # –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞—Ä–∏—Ñ/–Ω–∞—Å—Ç—Ä–æ–π–∫—É
POST /admin-settings                # –°–æ–∑–¥–∞—Ç—å —Ç–∞—Ä–∏—Ñ
```

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ —Å Telegram –±–æ—Ç–æ–º

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Dashboard ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é "–°–æ–∑–¥–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω —Å Telegram –±–æ—Ç–æ–º"
3. –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç–µ —É @BotFather)
4. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
5. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –º–∞–≥–∞–∑–∏–Ω"

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

1. Dashboard ‚Üí –¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã
2. "–î–æ–±–∞–≤–∏—Ç—å —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–æ–≤–∞—Ä"
3. –£–∫–∞–∂–∏—Ç–µ —Ç–∏–ø (–∫–ª—é—á/–∏–≥—Ä–∞/–∞–∫–∫–∞—É–Ω—Ç)
4. –í –ø–æ–ª–µ "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ" –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏ (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞–º–∏ (–∞–¥–º–∏–Ω)

1. Admin ‚Üí Settings
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ò–∑–º–µ–Ω–∏—Ç–µ —Ü–µ–Ω—É, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ñ—É–Ω–∫—Ü–∏–∏
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –æ–ø–ª–∞—Ç—ã (–∞–¥–º–∏–Ω)

1. Admin ‚Üí Settings
2. –°–µ–∫—Ü–∏—è "–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã"
3. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å—á—ë—Ç–∞, –±–∞–Ω–∫, –ë–ò–ö
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:

- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- `shops` - –ú–∞–≥–∞–∑–∏–Ω—ã
- `plans` - –¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã
- `products` - –¢–æ–≤–∞—Ä—ã (type: physical/digital)
- `orders` - –ó–∞–∫–∞–∑—ã
- `order_items` - –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ
- `categories` - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
- `promocodes` - –ü—Ä–æ–º–æ–∫–æ–¥—ã
- `admin_settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∞

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:

```python
import psycopg2
conn = psycopg2.connect(os.environ['DATABASE_URL'])
```

## üì∏ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:

```python
# Backend
s3.put_object(
    Bucket='files',
    Key='products/image.jpg',
    Body=image_data,
    ContentType='image/jpeg'
)

# CDN URL
cdn_url = f"https://cdn.poehali.dev/projects/{AWS_ACCESS_KEY_ID}/bucket/products/image.jpg"
```

## üîê –°–µ–∫—Ä–µ—Ç—ã

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `DATABASE_URL` - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- `MAIN_DB_SCHEMA` - –ò–º—è —Å—Ö–µ–º—ã –ë–î
- `AWS_ACCESS_KEY_ID` - –ö–ª—é—á S3
- `AWS_SECRET_ACCESS_KEY` - –°–µ–∫—Ä–µ—Ç S3

## üöß Roadmap

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ÆKassa –¥–ª—è –æ–ø–ª–∞—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –°–î–≠–ö –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏
- [ ] –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

Telegram: @vio_marketolog_support
Email: info@vio-marketolog.ru
